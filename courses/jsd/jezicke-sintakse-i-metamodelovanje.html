<!DOCTYPE html>
<html>

<head>
	<title>[Jeziƒçke sintakse i meta-modelovanje](/courses/#table-of-contents)</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="../remarkslides.css">
	<!-- MathJax‚Ñ¢ -->
	<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" async>
	</script>
	<!-- mermaid dijagram -->
	<link rel="stylesheet2" href="../mermaid.min.css">
	<script>
		mermaid.initialize({startOnLoad:true});
	</script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127734928-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		      function gtag(){dataLayer.push(arguments);}
		      gtag('js', new Date());
		
		      gtag('config', 'UA-127734928-1');
	</script>
	<!-- google analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		      ga('create', 'UA-127734928-1', 'auto');
		      ga('send', 'pageview');
	</script>
</head>

<body>
	<textarea id="source">class: center, middle

## [Jeziƒçke sintakse i meta-modelovanje](/courses/#table-of-contents)



.author[[dr. Milovan Toma≈°eviƒá](https://milovantomasevic.com/resume/)]

.small[[Fakulteta za informacijske ≈°tudije v Novem mestu (FI≈†)](https://www.fis.unm.si/en/)</br>![:scale 10%](../fis/fis.png) .small[ [üåê‚ûô milovan.tomasevic.fis.unm.si](http://milovan.tomasevic.fis.unm.si)</br> [üìß‚ûô milovan.tomasevic@fis.unm.si](mailto:milovan.tomasevic@fis.unm.si)]]



.created[08.03.2019 u 19:15]


---

name: sadrzaj

# Sadr≈æaj

- [Sintakse](#sintakse)
- [Sekundarna sintaksa](#sekundarna)
- [Meta-modelovanje](#meta-modelovanje)
- [Meta-metamodeli](#meta-metamodeli)
- [Stek za meta-modelovanje](#stek)

---
name: pregled
class: center, middle, inverse

# Sintakse

---
layout: true

.section[[Sintakse](#sadrzaj)]

---

## Tehnike i tehnologije za implementaciju DSL-ova

- Parser generatori/interpreteri
- Meta-modelovanje
- Druge tehnike: ontologije, XML tehnologije...

---

## Konkretna sintaksa

- Da bi mogram prikazali korisniku potrebna nam je konkretna sintaksa.
- Konkretna sintaksa defini≈°e "izgled" iskaza na nekom jeziku, odnosno u ≈°irem
  smislu defini≈°e i naƒçine interakcije korisnika sa jeziƒçkim iskazima tj.
  predstavlja interfejs jezik-korisnik.
- Iako nam je za jedan jezik dovoljna jedna konkretna sintaksa, mo≈æemo ih imati
  vi≈°e.
- Konkretne sintakse mogu biti tekstualne, grafiƒçke, tabelarne, tipa stabla,
  bazirane na dijalozima ...

---

## Primer istog iskaza upotrebom dve razliƒçite konkretne sintakse

![:scale 80%](jezicke-sintakse-i-metamodelovanje/RazliciteSintakse.png)

---

## Parsiranje - sintaksna analiza

- Analiza linearnog zapisa niza simbola na osnovu pravila neke formalne
  gramatike jezika.
- Transformacija ulaznog stringa u stablo parsiranja.

---

## Stablo parsiranja

- Nastaje iz niske simbola (ulaznog stringa) procesom skeniranja (tokenizacije
  ili leksiƒçke analize) i parsiranja.
- Listovi stabla su tokeni prepoznati od strane skenera dok je struktura stabla
  odreƒëena gramatikom jezika.
- Stablo parsiranja reflektuje sintaksnu strukturu ulaznog stringa na bazi
  unapred definisane formalne gramatike.
  
---

## Stablo parsiranja - Primer

![](jezicke-sintakse-i-metamodelovanje/calc_parse_tree.svg)

---

## Apstraktna sintaksa

- Odreƒëuje pravila validnosti jeziƒçkih iskaza sa stanovi≈°ta njegove strukture
  bez razmatranja konkretne reprezentacije iskaza (konkretne sintakse).
- Defini≈°e strukture validnih reƒçenica sa stanovi≈°ta jezika.
- Sadr≈æi koncepte domena, njihove osobine i meƒëusobne relacije.
- Jezici za definisanje apstraktnih sintaksi jezika se u domenu modelovanja
  nazivaju meta-meta-modelima.ref[*].
  
.footer[
\* Preciznije, meta-metamodel je apstraktna sintaksa takvog jezika. Jezik jo≈°
   ƒçine i konkretne sintakse i semantika. 
]

---

## Primer - apstraktna sintaksa jezika za opis konaƒçnih automata

![](jezicke-sintakse-i-metamodelovanje/StateMachine.svg)

---

## Primer - apstraktna sintaksa jezika za jednostavne algebarske izraze

![:scale 80%](jezicke-sintakse-i-metamodelovanje/AST-Expression.png)

---

## Stablo apstraktne sintakse

- Svaki iskaz na datom jeziku se mo≈æe na apstraktan naƒçin opisati stablom
  apstraktne sintakse (*Abstract Syntax Tree*).
- AST je usmereno labelirano stablo gde ƒçvorovi stabla predstavljaju instance
  koncepata apstraktne sintakse.
  
---

## Primer stabla apstraktne sintakse

![](jezicke-sintakse-i-metamodelovanje/AST.svg)

---

## Razlike izmeƒëu stabla apstraktne i konkretne sintakse

- Stablo konkretne sintakse je bazirano na formalnoj gramatici koja opisuje
  detalje zapisa u tekstualnom obliku.
- Stablo apstraktne sintakse sadr≈æi su≈°tinu jeziƒçkog iskaza.
- Mo≈æemo imati vi≈°e gramatika za isti jezik odnosno jedno stablo apstraktne
  sintakse mo≈æemo zapisati na vi≈°e razliƒçitih naƒçina ≈°to rezultuje razliƒçitim
  stablima konkretne sintakse.
- **Primer:** Izraz `-(4-1)*5/(2+4.67)` mo≈æemo u postfiksnoj notaciji zapisati
  kao `4 1 - 5 * 2 4.67 + / -`. Ovo ƒáe rezultovati razliƒçitim stablima
  parsiranja ali je su≈°tina izraza ista i mo≈æe rezultovati istim stablom
  apstraktne sintakse.

---
name: sekundarna-sintaksa
class: center, middle, inverse
layout: false

# Sekundarna sintaksa

---
layout: true

.section[[Sekundarna sintaksa](#sadrzaj)]

---

## Sekundarna sintaksa

- Iako konkretna sintaksa nameƒáe svoja pravila, gotovo uvek postoji odreƒëena
  sloboda koja se ostavlja korisniku i koja omoguƒáava da se mogram koji je isti
  sa stanovi≈°a apstraktne sintakse (isto stablo apstraktne sintakse) prezentuje
  na razliƒçite naƒçine.
- Primeri:

  - "Prazni" karakteri kod tekstualnih sintaksi (*white-spaces*) najƒçe≈°ƒáe nemaju
    semantiƒçkog znaƒçaja pa se mogu koristiti na razliƒçite naƒçine (kod se mo≈æe
    nazubljivati na vi≈°e naƒçina).
  - Polo≈æaji, boja i veliƒçine simbola kod grafiƒçkih sintaksi najƒçe≈°ƒáe nemaju
    semantiƒçkog znaƒçenja pa korisnik mo≈æe da iskoristi ove osobine da enkoduje
    neko svoje znaƒçenje.
    
---

## Problemi sa sekundarnom sintaksom

- Sekundarna sintaksa se mo≈æe koristiti na proizvoljan naƒçin.
- Svaki korisnik razvija svoj stil upotrebe sekundarne sintakse ≈°to mo≈æe
  prouzrokovati pogre≈°no ili ote≈æano tumaƒçenje.
  
![:scale 80%](jezicke-sintakse-i-metamodelovanje/Sekundarna.png)

.center[Da li su ova dva mograma ista?]

---

## Problemi sa sekundarnom sintaksom

![](jezicke-sintakse-i-metamodelovanje/Sekundarna2.png)

.center[A sada?]

---

## Moguƒáa re≈°enja

- Definisanje stila kodiranja - *coding style* (kod tekstualnih) koga se
  pridr≈æavaju svi programeri. Potrebna je odreƒëena doza discipline.
- Smanjenje korisniƒçke slobode - ugraƒëivanje moguƒáih elemenata sekundarne
  sintakse u formalni jezik. Alati ƒáe spreƒçiti neispravnu upotrebu.
  
---

## Primer - Python

- Python koristi identaciju koda za kontrolu toka programa.
- Jedan od razloga ƒçitljivosti Python koda - svi programeri moraju ispravno da
  *nazubljuju* kod.

```python
def inner_from_python(expression):
    retval = None
    if isinstance(expression, types.FunctionType):
        # If this expression is a parser rule
        rule_name = expression.__name__
        if rule_name in __rule_cache:
            c_rule = __rule_cache.get(rule_name)
            if self.debug:
                print("Rule {} founded in cache.".format(rule_name))
            if isinstance(c_rule, CrossRef):
                self.__cross_refs += 1
                if self.debug:
                    print("CrossRef usage: {}"
                          .format(c_rule.target_rule_name))
            return c_rule
        ...
```

---

## Pristupi u realizaciji editora za DSL-ove

.medium[
- Direktna izmena apstraktne reprezentacije kroz projekciju.
 
  ![:scale 50%](jezicke-sintakse-i-metamodelovanje/projekcija.svg)
  
- Parsiranje - izmena se vr≈°i posredno kroz tekst koji se parsira da bi se
  dobila apstraktna reprezentacija.

  ![:scale 80%](jezicke-sintakse-i-metamodelovanje/parseri.svg)

]

.footer[
.small[Eye icon designed by Freepik. Hand icon by Yannick Lung.]
]

---
name: meta-modelovanje
class: center, middle, inverse
layout: false

# Meta-modelovanje

---
layout: true

.section[[Meta-modelovanje](#sadrzaj)]

---

## Model

- Modelovanje je esencijalno za ljudsku aktivnost jer svakoj akciji prethodi,
  eksplicitno ili implicitno, kreiranje modela.
- Modeli mogu biti deskriptivni, ukoliko modeluju postojeƒái realni sistem, ili
  preskriptivni (specifikacija) ukoliko predstavljaju "plan" sistema koji treba
  da se izgradi.
- Model predstavlja opis, ili specifikaciju sistema i njegovog okru≈æenja kreiran
  za odreƒëenu namenu. Najƒçe≈°ƒáe je model predstavljen kao kombinacija crte≈æa i
  teksta. Tekst mo≈æe biti zadat jezikom za modelovanje ili prirodnim jezikom
  .ref[*].

.footer[
\* J. Miller, J. Mukerji, et al., *MDA Guide Version 1.0.1*, Object
   Management Group, vol. 234, 2003
]

---

## Model - drugi poku≈°aj

.medium[

> ...Model predstavlja **pojednostavljenje sistema** sa odreƒëenim ciljem. Model
> treba da odgovori na pitanja umesto stvarnog sistema. **Odgovori** dobijeni od
> modela **moraju da budu isti** kao i oni dobijeni od realnog sistema, pod
> uslovom da se pitanja nalaze u domenu definisanom ciljem modela. Da bi bio
> koristan, model mora biti **jednostavniji za upotrebu** od realnog sistema. Da
> bi se ovo postiglo, mnogi detalji realnog sistema su **apstrahovani** i
> izostavljeni. Ovo pojednostavljenje je sr≈æ modelovanja...

]
            
.footer[
  J. B√©zivin and O. Gerb√©, *Towards a precise definition of the OMG/MDA
  framework*, in ase, p. 273, Published by the IEEE Computer Society, 2001
]

---

## Osnovne karakteristike modela

- Model ne predstavljaju samo crte≈æi i tekstualni opisi. Model mo≈æe imati
  materijalnu formu npr. mo≈æe biti model/maketa aviona, pojednostavljena verzija
  motora sa unutra≈°njim sagorevanjem itd.
- Apstrakcija i namena, tj. skup pitanja na koje ≈æelimo da dobijemo odgovore, su
  osnovne karakteristike modela.
- U op≈°tem sluƒçaju, ne mo≈æemo oƒçekivati da ƒáe model dati potpuno iste odgovore
  kao modelovani sistem ali mo≈æemo oƒçekivati da razlike (gre≈°ke) budu u
  projektovanim granicama.
  
---

## Meta-model

- Kada kreiramo model sistema moramo po≈°tovati odreƒëena pravila odnosno moramo
  koristiti odreƒëeni jezik za modelovanje.
- Jezik mo≈æe biti op≈°te namene (npr. UML) ili specifiƒçan za domen.
- Takav jezik predstavlja eksplicitnu specifikaciju kori≈°ƒáene apstrakcije pri
  modelovanju.ref[*].
- Apstraktna sintaksa datog jezika u svetu modelovanja je takoƒëe predstavljena
  kao model. Ovakav model nazivamo meta-modelom.
- Meta-model sadr≈æi koncepte domena, njihove meƒëusobne veze i ograniƒçenja.

.footer[
\* J. B√©zivin and O. Gerb√©, *Towards a precise definition of the OMG/MDA
   framework*, in ase, p. 273, Published by the IEEE Computer Society, 2001
]

---

## Primer - meta-model jezika za opis konaƒçnih automata

![:scale 80%](jezicke-sintakse-i-metamodelovanje/StateMachine.svg)

.center[Apstraktna sintaksa je meta-model]

---

## Operacije koje koristimo pri (meta)modelovanju

- Apstrakcija
- Klasifikacija
- Generalizacija

---

## Apstrakcija

- Jedno od osnovnih oruƒëa ljudskog intelekta.
- Proces zanemarivanja nebitnih informacija prilikom kreiranja modela.

![:scale 50%](jezicke-sintakse-i-metamodelovanje/apstrakcija.svg)

---

## Apstrakcija

> If you assume a certain basic knowledge in the audience, you can talk in a
> language that deals with bigger concepts, and express things in a much shorter
> and clearer way. This, more or less, is what abstraction is.

.footer[
Marijn Haverbeke, *Eloquent JavaScript*, http://eloquentjavascript.net/
]

---

## Klasifikacija

- Objekti realnih sistema, kao i njihovi modeli, se mogu grupisati na osnovu
  zajedniƒçkih osobina.
  
![:scale 80%](jezicke-sintakse-i-metamodelovanje/klasifikacija.svg)

---

## Token modeli i modeli tipova

- Prvi ih je definisao ƒåarls Sanders Pirs.
- Token modeli:

  - Modeli konkretnih pojedinaƒçnih pojava realnog sveta.
  - Nastaju iskljuƒçivo procesom apstrakcije.
  - Primer: geografska mapa, maketa aviona...

- Modeli tipova:

  - Nastaju procesom klasifikacije modela tokena na osnovu zajedniƒçkih osobina.
  - Ovakav model opisuje klasu pojava realnog sveta.
  
---

## Generalizacija

- Predstavlja dalji proces klasifikacije modela tipova na osnovu zajedniƒçkih
  osobina.
- Odvija se unutar modela tipova na taj naƒçin ≈°to se tipovi grupi≈°u u apstraktne
  koncepte na osnovu zajedniƒçkih osobina. Za tako kreirane koncepte ka≈æemo da
  generalizuju posmatrani skup koncepata, odnosno posmatrani skup koncepata se
  nasleƒëuje iz generalizovanog koncepta.
  

---
name: meta-metamodeli
class: center, middle, inverse
layout: false

# Meta-metamodeli

---
layout: true

.section[[Meta-metamodeli](#sadrzaj)]

---

## Meta-metamodel

- Kreiranje jezika predstavlja domen sa svojim konceptima i pravilima.
- Jezik ovog domena (jezik za opis jezika) nazivamo meta-jezikom.
- Kao ≈°to apstraktnu sintaksu bilo kog jezika nazivamo meta-modelom, apstraknu
  sintaksu meta-jezika nazivamo meta-metamodelom.
- Meta-metamodelom mo≈æemo opisati apstraktnu sintaksu bilo kog jezika pa i
  meta-jezika. Stoga ka≈æemo da je meta-metamodel samodefini≈°uƒái.
  
---

## MOF

- MOF (*Meta-Object Facility*).ref[1] je meta-metamodel i industrijski
  standard koji se razvija pod okriljem OMG (*Object Management Group*)
  konzorcijuma.
- Predstavlja osnovnu integracionu platformu MDA (*Model-Driven
  Architecture*) pravca i omoguƒáava interoperabilnost UML baziranih alata.
- Nastao je na bazi UML-a i u MOF-u se danas opisuju OMG jezici za modelovanje,
  izmeƒëu ostalog i UML
- MOF je podeljen na EMOF (*Essential MOF*), CMOF(*Complete MOF*) i
  SMOF(*Semantic MOF*).

.footer[
1.  http://www.omg.org/mof/
]

---

## EMOF

![:scale 80%](jezicke-sintakse-i-metamodelovanje/EMOF.png)

---

## ECore

- ECore je meta-metamodel ƒçiji je razvoj zapoƒçeo IBM a kasnije je razvijan u
  okviru Eclipse EMF (*Eclipse Modeling Framework*).ref[1] projekta.
- Baziran na programskom jeziku Java. Pod licencom slobodnog softvera
  (*Eclipse Public License*).
- U osnovi predstavlja efikasnu implementaciju EMOF meta-metamodela.
- Industrijski standard, dokazan i testiran kroz vi≈°egodi≈°nju upotrebu na
  realnim projektima.

.footer[
1. http://www.eclipse.org/modeling/emf/
]

---

## ECore

![:scale 70%](jezicke-sintakse-i-metamodelovanje/EcoreRelations.png)

---

## GOPPRR

- Ime predstavlja skraƒáenicu reƒçi koje opisuju osnovne koncepte jezika:
  **G**raph, **O**bject, **P**roperty, **P**ort, **R**ole, **R**elationship.
- Vlasniƒçki softver. Okosnica MetaEdit+ alata.ref[1]. Nastao je od
  ranijih verzija koje su nosile naziv GOPRR i OPRR.ref[2].

.footer[
   
1. http://www.metacase.com/products.html
2. S. Kelly, *Towards a comprehensive MetaCASE and CAME environment:
   conceptual, architectural, functional and usability advances in
   MetaEdit+*. PhD thesis, University of Jyv√§skyl√§, 1997

]

---

## MoRP

- Razvijen na Katedri za informatiku.
- Jednostavan - mali broj koncepata.
- Implementacija u Javi.ref[1]. U toku port na Python.ref[2] (ƒçim se naƒëe
  vremena ;) ).

![:scale 50%](jezicke-sintakse-i-metamodelovanje/MoRP.svg)

.footer[

1. https://github.com/igordejanovic/MoRP
2. https://github.com/igordejanovic/MoRPy

]

---
name: stek-za-metamodelovanje
class: center, middle, inverse
layout: false

# Stek za metamodelovanje

---
layout: true

.section[[Stek za metamodelovanje](#sadrzaj)]

---

## Stek za metamodelovanje

![](jezicke-sintakse-i-metamodelovanje/Metanivoi.svg)

---

## Primer - Mogram, jezik, meta-jezik

![](jezicke-sintakse-i-metamodelovanje/Kapija-StateMachine-MoRP.svg)

--

class: center, middle, theend, hide-text
layout: false
background-image: url(../theend.gif)

</textarea>
	<script src="../remark-latest.min.js"></script>
	<script>
		// https://github.com/gnab/remark/issues/72
		        remark.macros.scale = function (percentage) {
		            var url = this;
		            return '<div class="center"><img src="'
		                 + url + '" style="width: ' + percentage + '" /></div>';
		        };
		        var slideshow = remark.create({
		                    highlightLanguage: 'python',
		                    // highlightStyle: 'obsidian',
		                    highlightStyle: 'github',
		                    highlightLines: true,
		                    countIncrementalSlides: false,
		                    navigation: {
		                      // Enable or disable navigating using scroll
		                      // Default: true
		                      // Alternatives: false
		                      scroll: false,
		
		                      //click: true,
		                    }
		                });
	</script>
	<script src="../mermaid.min.js"></script>
	<script>
		mermaid.initialize({startOnLoad:true});
	</script></body>

</html>