<!DOCTYPE html>
<html>

<head>
	<title>[Uvod u JSD](/courses/#table-of-contents)</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="../remarkslides.css">
	<!-- MathJaxâ„¢ -->
	<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" async>
	</script>
	<!-- mermaid dijagram -->
	<link rel="stylesheet2" href="../mermaid.min.css">
	<script>
		mermaid.initialize({startOnLoad:true});
	</script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127734928-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		      function gtag(){dataLayer.push(arguments);}
		      gtag('js', new Date());
		
		      gtag('config', 'UA-127734928-1');
	</script>
	<!-- google analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		      ga('create', 'UA-127734928-1', 'auto');
		      ga('send', 'pageview');
	</script>
</head>

<body>
	<textarea id="source">class: center, middle

## [Uvod u JSD](/courses/#table-of-contents)



.author[[dr. Milovan TomaÅ¡eviÄ‡](https://milovantomasevic.com/resume/)]

.small[[Fakulteta za informacijske Å¡tudije v Novem mestu (FIÅ )](https://www.fis.unm.si/en/)</br>![:scale 10%](../fis/fis.png) .small[ [ğŸŒâ™ milovan.tomasevic.fis.unm.si](http://milovan.tomasevic.fis.unm.si)</br> [ğŸ“§â™ milovan.tomasevic@fis.unm.si](mailto:milovan.tomasevic@fis.unm.si)]]



.created[08.03.2019 u 19:15]


---


name: sadrzaj

# SadrÅ¾aj

- [Problem i motivacija](#motivacija)
- [Primeri](#primeri)
- [Prednosti](#prednosti)
- [Arhitekture](#arhitekture)
- [Gradivni elementi](#gradivni)
- [Klasifikacija](#klasifikacija)
- [JeziÄke radionice](#radionice)

---
name: motivacija
class: center, middle, inverse

# Problem i motivacija

---
layout: true

.section[[Motivacija](#sadrzaj)]

---

## Å ta je jezik?
            
- Komunikacija misli i oseÄ‡anja sistemom znakova kao Å¡to su zvuci, gestovi ili
  pisani simboli .ref[1].
- Sistem znakova, simbola, gestova i pravila koji se koriste u komunikaciji
  .ref[2].
  
.footer[
1. http://www.thefreedictionary.com/language
2. http://oxforddictionaries.com/definition/english/language
]
            
---

## Å ta je softverski jezik?
            
- Jezik koriÅ¡Ä‡en u komunikaciji Äovek-raÄunar ili raÄunar-raÄunar.
- U varijanti Äovek-raÄunar teÅ¾imo da jezik bude lak za razumevanje od strane
  Äoveka ali ipak da moÅ¾e da se procesira na efikasan naÄin od strane raÄunara.
- U kontekstu razvoj softvera dve su uloge jezika:
  - *preskriptivna* - za opis buduÄ‡ih sistema
  - *deskriptivna* - za opis postojeÄ‡ih sistema
  
---

## Å ta domen?

- Sfera delovanja, interesa ili funkcije .ref[1].
- Oblast znanja, uticaja, ili delovanja .ref[2].
- Da bi se domensko znanje moglo procesirati i da bi mogli komunicirati u
  odreÄ‘enom domenu korisno je definisati ontologiju domena koja opisuje koncepte
  domena i njihove meÄ‘usobne veze.
- Primer domena: osiguranje, zdravstvo, finansije, saobraÄ‡aj...
- Domeni mogu sadrÅ¾ati poddomene. Na primer, ako je posmatrani domen problema
  osiguranje, poddomeni mogu biti Å¾ivotno osiguranje, osiguranje vozila,
  osiguranje nekretnina i sl.

.footer[
1. http://www.thefreedictionary.com/domain
2. http://www.merriam-webster.com/dictionary/domain
]

---

## Jezici specifiÄni za domen - JSD (*Domain-Specific Languages - DSL*)

- Jezici specifiÄni za domen (JSD, eng. *Domain-Specific Languages - DSL*)
  su jezici prilagoÄ‘eni i ograniÄeni na odreÄ‘eni domen problema.
- Za razliku od jezika opÅ¡te namene (JON, eng. *General Purpose Language -
  GPL*), nude poveÄ‡anje ekspresivnosti kroz upotrebu koncepata i notacija
  prilagoÄ‘enih domenu problema i domenskim ekspertima.
- Nazivaju se joÅ¡ i *mali jezici* (eng. *little languages*).
- UspeÅ¡an JSD je fokusiran na uzak, dobro definisan domen i pokriva ga na
  odgovarajuÄ‡i naÄin.
- Domen Äesto ima svoj jezik koriÅ¡Ä‡en od strane domenskih eksperata iako ne
  postoji njegova implementacija na raÄunaru.

  
---
name: primeri
layout: false
class: center, middle, inverse

# Primeri

---
layout: true

.section[[Primeri](#sadrzaj)]

---

## SQL

```sql
SELECT player, stadium
    FROM game JOIN goal ON (id=matchid)
```

---

## JPA mapiranje

```java
@Entity
@Table(name="COURSES")
public class Course {

  private long courseId;
  private String courseName;

  public Course() {
  }

  public Course(String courseName) {
    this.courseName = courseName;
  }

  @Id
  @GeneratedValue
  @Column(name="COURSE_ID")
  public long getCourseId() {
    return this.courseId;
  }
}
```

---

## Build jezici (Ant/Maven/Gradle)

![](uvod/Ant-Maven-Gradle.png)

---

## Poslovni procesi - BPMN

![](uvod/BPMN.png)

---

## Mobilne aplikacije

![:scale 70%](uvod/MobilneAplikacije.png)

.footer[
  Kelly, S. & Tolvanen, J.-P. *Domain-Specific Modeling: Enabling Full Code
    Generation*, Wiley-IEEE Computer Society Pr, 2008
]
            
---

## Ali i...

![:scale 70%](uvod/MusicNotation-External.png)

---

## ili...

![:scale 70%](uvod/ChessNotation.png)

---

## pa Äak i...

![:scale 50%](uvod/saobracajni-znaci.jpg)

---

## Kada jezik smatramo JSD-om?

- Zavisi od toga Å¡ta nam je domen.
- Jezik moÅ¾e biti viÅ¡e ili manje prilagoÄ‘en nekom domenu.
- U ekstremnom sluÄaju i opÅ¡ti jezik kao Å¡to je Java moÅ¾emo smatrati JSD-om ako
  nam je domen "razvoj softvera". Naravno, iako taÄno u teorijskom smislu, u
  praktiÄnom gubimo sve prednosti JSD.
- Dobar JSD pokriva uzak, dobro definisan domen (domen problema). Koristi samo
  koncepte ciljnog domena, ograniÄen je na dati domen i samim tim je iskazivanje
  reÅ¡enja jezgrovitije i jasnije domenskim ekspertima.
- ÄŒest je sluÄaj da jezik nastane kao JSD ali se vremenom proÅ¡iri do te mere da
  ga moÅ¾emo smatrati JON.

---
name: prednosti
layout: false
class: center, middle, inverse

# Prednosti

---
layout: true

.section[[Prednosti](#sadrzaj)]

---

## Uticaj na produktivnost

- Pojedine studije pokazuju da poveÄ‡anje produktivnosti ide i do 1000% .ref[1].
- Å ta je osnovni razlog za poveÄ‡anje produktivnosti?
 
.footer[
MetaCase, *Nokia case study*, tech. rep., MetaCase, 2007
]
  
  
---

## Problem mentalnog mapiranja

![](uvod/MentalnoMapiranje-1.svg)

.footer[
  Dmitriev, S. *Language oriented programming: The next programming
    paradigm *, JetBrains onBoard, 2004.
]

---

## ReÅ¡enje upotrebom JSD

![](uvod/MentalnoMapiranje-2.svg)

.footer[
  Dmitriev, S. *Language oriented programming: The next programming
    paradigm *, JetBrains onBoard, 2004.
]

---

## ZaÅ¡to JSD?

- JSD su koncizniji od jezika opÅ¡te namene Å¡to omoguÄ‡ava korisnicima da jasnije
  iskaÅ¾u svoju nameru.
- JSD sintaksa, bilo tekstualna ili grafiÄka, moÅ¾e se prilagoditi i
  pribliÅ¾iti domenskim ekspertima.
- Koncepti koriÅ¡Ä‡eni u JSD su koncepti problemskog (poslovnog) domena Å¡to
  pod odreÄ‘enim uslovima omoguÄ‡ava da domenski eksperti direktno koriste JSD bez
  posredovanja programera.
- Upotrebom koncepata problemskog domena izbegava se ruÄno mapiranje na koncepte
  ciljne implementacione platforme. Taj posao se obavlja automatski upotrebom
  JSD prevodioca (kompajlera ili generatora koda).
- Iskazivanje reÅ¡enja konceptima nezavisnim od koriÅ¡Ä‡ene tehnologije rezultuje
  duÅ¾im Å¾ivotnim vekom aplikacije.
- SamodokumentujuÄ‡i jeziÄki iskazi.

---

## Uticaj na kvalitet softvera

- KoriÅ¡Ä‡enje koncepata domena problema dovodi do smanjenja broja linija koda (u
  terminologiji tekstualnih notacija), Å¡to ima pozitivan uticaj na brzinu
  razvoja i jednostavnost odÅ¾avanja.
- Smanjenje broja linija koda ide i do **50 puta** u pojedinim domenima primene.
  Gustina softverskih greÅ¡aka (broj softverskih greÅ¡aka na hiljadu linija koda)
  ne zavisi znaÄajno od jezika koji se koristi.
- Iz toga se moÅ¾e zakljuÄiti da JSD kroz smanjenje broja linija koda posredno
  utiÄu na smanjenje apsolutnog broja softverskih greÅ¡aka Å¡to poveÄ‡ava kvalitet
  softverskog proizvoda i smanjuje cenu odrÅ¾avanja.
- PrevoÄ‘enje koda na ciljnu platformu (kompajliranje) Ä‡e rezultovati
  konzistentnim kodom.

---

## Uticaj na evoluciju aplikacije

- Iskazivanje reÅ¡enja konceptima nezavisnim od koriÅ¡Ä‡ene tehnologije rezultuje
  duÅ¾im Å¾ivotnim vekom aplikacije.
- Nije potrebno menjati jeziÄke iskaze (programe/modele) kada doÄ‘e do promene
  tehnologije. Potrebno je promenu uneti u generator koda.
  

---
name: arhitekture
layout: false
class: center, middle, inverse

# Arhitekture

---
layout: true

.section[[Arhitekture](#sadrzaj)]

---

## Arhitektura bazirana na prevodiocima

![:scale 60%](uvod/Arhitektura-kompajler.svg)

---

## Arhitektura bazirana na interpreterima

![](uvod/Arhitektura-interpreter.svg)

---
name: gradivni
layout: false
class: center, middle, inverse

# Gradivni elementi

---
layout: true

.section[[Gradivni elementi](#sadrzaj)]

---

## Gradivni elementi JSD

Kao i svaki softverski jezik i JSD se sastoji od:
- Apstraktne sintakse
- Jedne ili viÅ¡e konkretnih sintaksi
- Semantike

---

## Apstraktna sintaksa

- OdreÄ‘uje pravila validnosti iskaza sa stanoviÅ¡ta njegove strukture.
- DefiniÅ¡e koncepte domena, njihove osobine i meÄ‘usobne relacije
- Jezici za definisanje apstraktnih sintaksi jezika se u domenu modelovanja
  nazivaju meta-meta-modelima.ref[1].

.footer[
1. Preciznije, meta-metamodel je apstraktna sintaksa takvog jezika. Jezik joÅ¡
    Äine i konkretne sintakse i semantika.
]

---

## Primer - apstraktna sintaksa jezika za opis konaÄnih automata

![:scale 90%](uvod/StateMachine.svg)

.footer.small[
  I. DejanoviÄ‡, *Prilog metodama brzog razvoja softvera na bazi proÅ¡irivih
  jeziÄkih specifikacija*. PhD thesis, Faculty of Technical Sciences, University of
  Novi Sad, January 2012
]

---

## Stablo apstraktne sintakse

- Svaki iskaz na datom jeziku se moÅ¾e na apstraktan naÄin opisati stablom
  apstraktne sintakse (*Abstract Syntax Tree*).
- Konkretna sintaksa nije vaÅ¾na u tom sluÄaju (na primer, ako posmatramo program
  na Javi tada kljuÄne reÄi nisu deo stabla apstraktne sintakse).

---

## Primer stabla apstraktne sintakse

![:scale 60%](uvod/AbstractSyntaxTree.svg)

.footer[
http://en.wikipedia.org/wiki/Abstract_syntax_tree
]

---

## Konkretna sintaksa

- Da bi mogli da prikaÅ¾emo iskaz na konkretan naÄin potrebna nam je konkretna
  sintaksa.
- Konkretna sintaksa definiÅ¡e *izgled* iskaza na nekom jeziku, odnosno u
  Å¡irem smislu definiÅ¡e i naÄine interakcije korisnika sa jeziÄkim iskazima tj.
  predstavlja interfejs jezik-korisnik.
- Iako nam je dovoljna jedna konkretna sintaksa za jedan jezik, moÅ¾emo ih imati
  viÅ¡e.
  
---

## Konkretna sintaksa

Primer istog iskaza upotrebom dve razliÄite konkretne sintakse

![:scale 70%](uvod/RazliciteSintakse.png)

.footer.small[
  I. DejanoviÄ‡, *Prilog metodama brzog razvoja softvera na bazi proÅ¡irivih
  jeziÄkih specifikacija*. PhD thesis, Faculty of Technical Sciences, University of
  Novi Sad, January 2012
]

---

## Semantika

- DefiniÅ¡e smisao jeziÄkih iskaza.
- Iako postoje i druge tehnike u praksi se najÄeÅ¡Ä‡e semantika definiÅ¡e
  prevoÄ‘enjem (kompajliranjem tj. generisanjem koda) na jezik koji veÄ‡ ima
  definisanu semantiku putem prevodioca na niÅ¾e jezike ili interpretera (npr.
  virtualne maÅ¡ine).
- NajÄeÅ¡Ä‡e su ciljni jezici na koje se JSD prevodi jezici opÅ¡te namene.
- *Primer:* generisanje Java programskog koda iz JSD jeziÄkog iskaza.
- Jezici se prevode na sve "niÅ¾e" i "niÅ¾e". Gde je kraj prevoÄ‘enju? MaÅ¡inski
  jezik. Definisan u hardveru raÄunara (procesoru).
  

---
name: klasifikacija
layout: false
class: center, middle, inverse

# Klasifikacija

---
layout: true

.section[[Klasifikacija](#sadrzaj)]

---

## Podela JSD prema vrsti konkretne sintakse

- Tekstualni
- GrafiÄki
- Tabelarni
- Baziran na ekranskim formama
- ...
- Hibridni - kombinacija viÅ¡e osnovnih

---

## Tekstualne sintakse - prednosti i mane

- Programeri se oseÄ‡aju "kod kuÄ‡e".
- Mogu se koristiti regularni tekst editori.
- Serijalizovana forma je identiÄna sa prezentacionom. se koristiti standardni
  sistemi za kontrolu verzija (Git, Mercurial, Subversion ...).
- PodrÅ¡ka u alatima: bojenje koda, dopuna koda, pretraga, navigacija...
- Mana: Nije pogodna za opis i razumevanje strukture koja nije linearne prirode
  (grafovi, tabele itd.).
  
---

## GrafiÄke sintakse - prednosti

- Razumevanje strukture. PodrÅ¾ano operacijama *zoom*, *pan* i sl.
- ÄŒesto razumljivije domenskim ekspertima (najÄeÅ¡Ä‡e je domenski jezik grafiÄke
  prirode).
- Intuitivniji i lakÅ¡i za uÄenje - uÄenje kroz isprobavanje (paleta sa alatima i
  konceptima, onemoguÄ‡avanje kreiranje nevalidnih konstrukcija itd.).

---

## GrafiÄke sintakse - mane

- JoÅ¡ uvek sloÅ¾eniji za implementaciju i odrÅ¾avanje.
- Za serijalizaciju se koristi format koji se razlikuje od prezentacionog.
- OteÅ¾ano ili potpuno nemoguÄ‡e koriÅ¡Ä‡enje standardnih alata za kontrolu verzija.
  Potrebno je razviti poseban VCS alat.
- Zahteva namenske editore.

---

## Podela prema vrsti domena

![:scale 90%](uvod/HorizontalniVertikalniDSL.svg)

---

## Podela JSD prema naÄinu implementacije

- **Interni** - Nastali su na bazi veÄ‡ postojeÄ‡ih programskih jezika (najÄeÅ¡Ä‡e
  JON).
- **Eksterni** - IzraÄ‘eni "on nule" definisanjem sintakse i implementacijom
  kompajlera koji prevodi programe pisane na ovom jeziku na neki drugi jezik
  (najÄeÅ¡Ä‡e JON) ili se program direktno interpretira.
  
.footer[
  M. Fowler, *Domain-Specific Languages*. Addison-Wesley Professional, 1 ed., Oct. 2010
]

---

## Interni JSD

- Bazirani na postojeÄ‡em jeziku i alatima. NajÄeÅ¡Ä‡e tekstualni.
- Koriste svu infrastrukturu jezika domaÄ‡ina (editore, debagere,
  kompajlere/interpretere...).
- Brzi za implementaciju i laki za odrÅ¾avanje. Popularni u pojedinim zajednicama
  (Ruby, Groovy, Scala...).
- Dobri kao ulaznica u svet DSL/DSM/MDE pristupa.
- NajÄeÅ¡Ä‡e na pametan naÄin koriste moguÄ‡nosti jezika (anonimne funkcije,
  meta-programiranje itd.).
- OgraniÄenja konkretne sintakse.
- Svaka namenska biblioteka moÅ¾e se smatrati internim JSD (API bazirani)...
- ... ali konkretna sintaksa takvog jezika nije prilagoÄ‘ena domenu.

---

## Eksterni JSD

- IzraÄ‘eni "on nule" - skuplji razvoj i odrÅ¾avanje.
- Puna kontrola konkretne sintakse - bolje prilagoÄ‘avanje domenskim ekspertima.
- Editori i svi propratni alati takoÄ‘e moraju da se prave "od nule"...
- ...mada danas postoje alati koji nam taj posao olakÅ¡avaju.

---

## Neki od poznatijih eksternih JSD

- **SQL**: tekstualni, domen - rad sa relacionim bazama podataka
- **HTML**: tekstualni, domen - definisanje sadrÅ¾aja na vebu
- **CSS**: tekstualni, domen - stilizovanje sadrÅ¾aja
- **make**: tekstualni, domen - izgradnja aplikacije (build)
- **LaTeX**: tekstualni, domen: kreiranje Å¡tampanih materijala (*typesetting*)
- **Window Builder**: GUI baziran, domen - izgradnja interfejsa
- **R**: tekstualni, domen - statistiÄka obrada podataka

---

## Primer: Interni JSD za definisanje email-a (*JavaMail API*)

```java
MimeMessage message = new MimeMessage(session);

message.setFrom(new InternetAddress(from));

message.addRecipient(Message.RecipientType.TO,
          new InternetAddress(to));

message.setSubject("Greetings from Novi Sad");
message.setText("Enjoying my stay in Novi Sad! See you soon!");

Transport.send(message);
```

---

## Primer: HipotetiÄki eksterni JSD za definisanje email-a

```
BEGIN myMail
  FROM me@myself.com
  TO myfriend@somewhere.org
  SUBJECT Greetings  from  Novi Sad

Enjoying my stay in Novi Sad! See you soon!

END
SEND myMail
```

---

## Primer

Interni JSD za definisanje grafiÄki korisniÄkih interfejsa (*Swing*)

```java
public DSLKurs() {
    setBounds(100, 100, 450, 300);
    getContentPane().setLayout(new BorderLayout());
    contentPanel.setBorder(new EmptyBorder(5, 5, 5, 5));
    getContentPane().add(contentPanel, BorderLayout.CENTER);
    contentPanel.setLayout(new FormLayout(new ColumnSpec[ {
                            FormFactory.RELATED_GAP_COLSPEC,
                            FormFactory.DEFAULT_COLSPEC,
                            FormFactory.RELATED_GAP_COLSPEC,
                            ColumnSpec.decode("default:grow"),},
                  new RowSpec[] {
                  FormFactory.RELATED_GAP_ROWSPEC,
                  FormFactory.DEFAULT_ROWSPEC,
                  FormFactory.RELATED_GAP_ROWSPEC,
                  FormFactory.DEFAULT_ROWSPEC,
                  FormFactory.RELATED_GAP_ROWSPEC,
                  FormFactory.DEFAULT_ROWSPEC,}));
    ....
    
```

---

## Primer

Eksterni JSD za definisanje grafiÄki korisniÄkih interfejsa (*WindowBuilder*)

![:scale 70%](uvod/GUIDSL-External.png)

---

## Primer

Interni JSD za definisanje gramatike jezika (*Arpeggio Python*)

```python
def number():     return _(r'\d*\.\d*|\d+')
def factor():     return Optional(["+","-"]), [number,
                          ("(", expression, ")")]
def term():       return factor, ZeroOrMore(["*","/"], factor)
def expression(): return term, ZeroOrMore(["+", "-"], term)
def calc():       return OneOrMore(expression), EOF
```

---

## Primer

Eksterni JSD za definisanje gramatike jezika (*Arpeggio PEG*)

```
number = r'\d*\.\d*|\d+'
factor = ("+" / "-")?
        (number / "(" expression ")")
term = factor (( "*" / "/") factor)*
expression = term (("+" / "-") term)*
calc = expression+ EOF
```

---
layout: false
class: center, middle, inverse

# Konkretna sintaksa je vaÅ¾na!!!

#### Neki jezici su pogodniji za kreiranje internih JSD

---
layout: true

.section[[Klasifikacija](#sadrzaj)]

---

## Jezici pogodni za kreiranje internih JSD

- Ruby
- Groovy
- Scala
- Lisp
- ...

---

## Primer internog JSD (*Ruby Sinatra*)

```ruby
get '/dogs' do
    # get a listing of all the dogs
end
get '/dog/:id' do
    # just get one dog, you might find him like this:
    @dog = Dog.find(params[:id])
    # using the params convention, you specified in your route
end
post '/dog' do
    # create a new dog listing
end
put '/dog/:id' do
    # HTTP PUT request method to update an existing dog
end
delete '/dog/:id' do
    # HTTP DELETE request method to remove a dog who's been sold!
end
```

---

## Primer internog JSD (Groovy Gradle)

```groovy
repositories {
    mavenCentral()
}

dependencies {
    groovy fileTree(dir: new File(gradle.gradleHomeDir, 'lib'),
                    includes: ['**/groovyÂ­allÂ­*.jar'])
    compile gradleApi()
    compile 'eu.appsatori:gradleÂ­fatjarÂ­plugin:0.1.3',
    {
        ext.optional = true
    }
    testCompile 'org.spockframework:spockÂ­core:0.6Â­groovyÂ­1.8'
}
```

---
layout: false
class: center, middle, inverse

# Eksterni JSD omoguÄ‡avaju potpuno prilagoÄ‘avanje domenu.

---
layout: true

.section[[Klasifikacija](#sadrzaj)]

---

## Interni JSD za muziÄku notaciju

```java
Score k = new Score(Tonality.G_major);
Bar bar = new Bar(BarType.4_4);
t.addPause(Duration.1_4);
t.addNote(NoteType.A3, Duration.1_4);
t.addNote(NoteType.C2, Duration.1_4);
k.addBar(bar);
```

---

## Eksterni JSD za muziÄku notaciju

U eksternoj varijanti moÅ¾emo u potpunosti prilagoditi konkretnu sintaksu
domenskim ekspertima.

.center[
![:scale 80%](uvod/MusicNotation-External.png)
]

---

## Lilypond note script

Ali se deÅ¡ava da i u eksternoj varijanti JSD nije prilagoÄ‘en domenskim
ekspertima.

![](uvod/Lilypond.png)

---

## Kritike JDS

- Skup razvoj i odrÅ¾avanje jezika.
- Potreba za ekspertima u domenu razvoja jezika koji su istovremeno sposobni da
  analiziraju domen primene.
- JeziÄka "kakofonija" (*Language Cacophony* .ref[1])i potreba da programeri
  poznaju veliki broj jezika (poseban jezik za svaki tehniÄki i/ili poslovni
  domen).

.footer[
    M. Fowler, *Language workbenches: The killer-app for domain specific
        languages*, Online
        http://www.martinfowler.com/articles/languageWorkbench.html, 2005.
]

---
name: radionice
layout: false
class: center, middle, inverse

# JeziÄke radionice

---
layout: true

.section[[JeziÄke radionice](#sadrzaj)]

---

## JeziÄke radionice (*Language Workbenches*)

- Integrisana okruÅ¾enja za razvoj, testiranje i evoluciju jezika i alata za
  njihovo efikasno koriÅ¡Ä‡enje (editori, interpreteri, kompajleri i sl.). Koriste
  se kod paradigme razvoja orijentisane ka jezicima (*Language Oriented
  Programming - LOP*).ref[*]
- ReÅ¡avaju problem brzine razvoja i lakoÄ‡e odrÅ¾avanja JSD.
- Primeri jeziÄkih radionica:
  - Meta Programming System (MPS)
  - Xtext
  - Spoofax

.footer[
\* M. Fowler, *Language workbenches: The killer-app for domain specific
   languages*, Online
   http://www.martinfowler.com/articles/languageWorkbench.html, 2005.
]

---

## Pristupi

.medium[
- Projekcione radionice - direktna izmena apstraktne reprezentacije kroz
  projekciju.
 
  ![:scale 45%](uvod/projekcija.svg)
  
- Bazirane na parserima - izmena se vrÅ¡i posredno kroz tekst koji se parsira da
  bi se dobila apstraktna reprezentacija.

  ![:scale 80%](uvod/parseri.svg)

]

.footer[
.small[Eye icon designed by Freepik. Hand icon by Yannick Lung.]
]

---

## Projekcione radionice

- Prednosti:
  - MoguÄ‡e viÅ¡estruke konkretne sintakse (tekstualne, grafiÄke, tabelarne...) -
    bolje prilagoÄ‘avanje konkretnom domenu.
  - Sintakse se mogu "u letu" menjati.
  - Kontrola validnosti izraza u vreme izmene modela.

- Mane:
  - SloÅ¾enost alata.
  - Format za perzistenciju nije u vezi sa konkretnim sintaksama koje korisnik
    koristi. NemoguÄ‡e je koristiti standardne sisteme za kontrolu verzija
    bazirane na tekstu.
  - Moraju se razviti namenski generiÄki editori za svaku klasu konkretnih sintaksi.
  
---

## Radionice bazirane na parserima

- Prednosti:
  - Jednostavnije za izradu i odrÅ¾avanje.
  - Teorija parsiranja dobro ustanovljena. Veliki broj biblioteka za parsiranje.
  - MoguÄ‡e koristiti obiÄne tekstualne editore.
  - MoguÄ‡e koristiti standardne sisteme za kontrolu verzija (npr. git,
    subversion).
  - Jednostavno kopiranje i lepljenje (eng. *copy/paste*).

- Mane:
  - MoguÄ‡a samo tekstualna sintaksa -> ograniÄeno prilagoÄ‘avanje domenu.
  - Provera validnosti se odlaÅ¾e do faze parsiranja.
  
---

## *Meta Programming System (MPS)*

- JetBrains - http://www.jetbrains.com/mps/
- Projekciona jeziÄka radionica - editori manipuliÅ¡u direktno apstraktnom
  reprezentacijom (stablom apstraktne sintakse). ÄŒak i u sluÄaju tekstualnih
  notacija.
- PodrÅ¡ka za razliÄite konkretne sintakse (notacije): tabelarne, tekstualne,
  bazirani na Ä‡elijama, grafiÄke.
- PodrÅ¡ka za kontrolu verzija.

---

## *Meta Programming System* - karakteristiÄan izgled

![:scale 70%](uvod/MPS.png)

.footer[
http://www.jetbrains.com/mps/docs/tutorial.html
]

---

## Xtext

- Nastao kao deo projekta slobodnog softvera - *openArchitectureWare*.
- Iza razvoja u najveÄ‡oj meri stoji nemaÄka
  firma [Itemis](https://www.itemis.com/en/).
- Postao deo Eclipse projekta.
- Tekstualne sintakse. EBNF-like gramatika.
- Upotreba ECore meta-metamodela.ref[1]. Meta-model se generiÅ¡e iz gramatike a
  moÅ¾e da koristi i veÄ‡ postojeÄ‡i meta-model.
- Generisanje Eclipse editora sa podrÅ¡kom za bojenje sintakse, navigaciju,
  *outline* pogled itd.
- Xtext bazirani JSD se duboko integriÅ¡e u Eclipse okruÅ¾enje i teÅ¡ko je uoÄiti
  razliku sa podrÅ¡kom za bilo koji drugi jezik sa Eclipse podrÅ¡kom (npr. Java).

.footer[
http://www.eclipse.org/modeling/emf/
]

---

## Xtext - *Little tortoise* jezik

.center[
![:scale 70%](uvod/xText-tortoise.png)
]

.footer[
http://www.eclipse.org/Xtext/7languagesDoc.html#tortoise
]

---

## Xtext - *Little tortoise* gramatika

.center[
![:scale 75%](uvod/xText-grammar.png)
]

.footer[
http://www.eclipse.org/Xtext/7languagesDoc.html#tortoise
]

---

## Xtext - primeri

Za dokumentaciju sa primerom izgradnje 7 razliÄitih jezika pogledati http://www.eclipse.org/Xtext/7languagesDoc.html

---

## Spoofax

- Kao i Xtext baziran na parsiranju i tekstualnim sintaksama. Kreira punu
  podrÅ¡ku za jezik u vidu Eclipse prikljuÄaka.
- IstraÅ¾ivaÄki projekat na TU Delft u Holandiji.
- Gramatika jezika se definiÅ¡e meta-jezikom SDF (*Syntax Definition Formalism*).
- Parser koristi SGLR algoritam (*Scanerless GLR*) i omoguÄ‡ava parsiranje punog
  skupa kontekstno slobodnih gramatika. U sluÄaju neodreÄ‘enosti parser vraÄ‡a
  Å¡umu parsiranja (*parse forest*) dok u sluÄaju deterministiÄke gramatike vraÄ‡a
  uvek stablo parsiranja (*parse tree*).
- Za tranformaciju programa i prepisivanje stabala koristi se JSD *Stratego*.

---

## Spoofax - karakteristiÄan izgled

![:scale 80%](uvod/Spoofax-prikaz.png)

---

## InÅ¾enjerstvo softverskih jezika

- *Software Language Engineering - SLE*.
- Pravac i pogled na razvoj softverskih jezika koji pokuÅ¡ava da ujedini sve
  druge pravce koji u osnovi imaju razvoj i upotrebu softverskih jezika
  (*MDE/MDA/DSM*.., ontologije, *grammarware*, *Language Oriented
  Programming*...).
- Jedna od ideja je izjednaÄavanje modela i programa - kao jedinstven naziv
  predloÅ¾en je *mogram*.ref[*].

.footer[
  `*` A. Kleppe, *Software language engineering: creating domain-specific
  languages using metamodels*. Addison-Wesley, 2009
]

---

## Literatura

- M. VÃ¶lter, [DSL Engineering: Designing, Implementing and Using
  Domain-Specific Languages](http://dslbook.org/). 2013
- S. Kelly and J.-P. Tolvanen, *Domain-Specific Modeling: Enabling Full Code
  Generation*. Wiley-IEEE Computer Society Pr, March 2008
- Federico Tomassetti, [*The complete guide to (external) Domain Specific
  Languages*](https://tomassetti.me/domain-specific-languages/), published
  on [the author's blog](https://tomassetti.me/), February 2017.
- I.
  DejanoviÄ‡,
  [Prilog metodama brzog razvoja softvera na bazi proÅ¡irivih jeziÄkih specifikacija](http://doiserbia.nb.rs/phd/fulltext/NS20110103DEJANOVIC.pdf).
  PhD thesis, Faculty of Technical Sciences, University of Novi Sad, January
  2012

--

class: center, middle, theend, hide-text
layout: false
background-image: url(../theend.gif)

</textarea>
	<script src="../remark-latest.min.js"></script>
	<script>
		// https://github.com/gnab/remark/issues/72
		        remark.macros.scale = function (percentage) {
		            var url = this;
		            return '<div class="center"><img src="'
		                 + url + '" style="width: ' + percentage + '" /></div>';
		        };
		        var slideshow = remark.create({
		                    highlightLanguage: 'python',
		                    // highlightStyle: 'obsidian',
		                    highlightStyle: 'github',
		                    highlightLines: true,
		                    countIncrementalSlides: false,
		                    navigation: {
		                      // Enable or disable navigating using scroll
		                      // Default: true
		                      // Alternatives: false
		                      scroll: false,
		
		                      //click: true,
		                    }
		                });
	</script>
	<script src="../mermaid.min.js"></script>
	<script>
		mermaid.initialize({startOnLoad:true});
	</script></body>

</html>